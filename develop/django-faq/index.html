<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Production-grade static file server for Python web apps."><meta name=author content="Mark Bakhit (Archmonger)"><link href=https://archmonger.github.io/ServeStatic/develop/django-faq/ rel=canonical><link href=../django-settings/ rel=prev><link href=../changelog/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>FAQ - ServeStatic</title><link rel=stylesheet href=../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%206.7.2%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202024%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M64%2032C28.7%2032%200%2060.7%200%2096v320c0%2035.3%2028.7%2064%2064%2064h224V368c0-26.5%2021.5-48%2048-48h112V96c0-35.3-28.7-64-64-64zm384%20320H336c-8.8%200-16%207.2-16%2016v112l32-32%2064-64z%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/main.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#how-to-i-use-servestatic-with-django-compressor class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=ServeStatic class="md-header__button md-logo" aria-label=ServeStatic data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ServeStatic </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FAQ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m3.55 19.09 1.41 1.41 1.8-1.79-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71 1.8 1.79 1.41-1.41-1.79-1.8M20.45 5l-1.41-1.4-1.8 1.79 1.42 1.42M13 1h-2v3h2M6.76 5.39 4.96 3.6 3.55 5l1.79 1.81zM1 13h3v-2H1m12 9h-2v3h2"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/Archmonger/ServeStatic title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ServeStatic (GitHub) </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../quick-start/ class=md-tabs__link> Installation </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../servestatic-asgi/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../changelog/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=ServeStatic class="md-nav__button md-logo" aria-label=ServeStatic data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> ServeStatic </label> <div class=md-nav__source> <a href=https://github.com/Archmonger/ServeStatic title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> ServeStatic (GitHub) </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Installation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Installation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Install ServeStatic on your... </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Install ServeStatic on your... </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../asgi/ class=md-nav__link> <span class=md-ellipsis> ASGI Project </span> </a> </li> <li class=md-nav__item> <a href=../wsgi/ class=md-nav__link> <span class=md-ellipsis> WSGI Project </span> </a> </li> <li class=md-nav__item> <a href=../django/ class=md-nav__link> <span class=md-ellipsis> Django Project </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../servestatic-asgi/ class=md-nav__link> <span class=md-ellipsis> ServeStaticASGI </span> </a> </li> <li class=md-nav__item> <a href=../servestatic/ class=md-nav__link> <span class=md-ellipsis> ServeStatic </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3 checked> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Django </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Django </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../django-settings/ class=md-nav__link> <span class=md-ellipsis> Settings </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> FAQ </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> FAQ </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#how-to-i-use-servestatic-with-django-compressor class=md-nav__link> <span class=md-ellipsis> How to I use ServeStatic with Django Compressor? </span> </a> </li> <li class=md-nav__item> <a href=#can-i-use-servestatic-for-media-files class=md-nav__link> <span class=md-ellipsis> Can I use ServeStatic for media files? </span> </a> </li> <li class=md-nav__item> <a href=#how-check-if-servestatic-is-working class=md-nav__link> <span class=md-ellipsis> How check if ServeStatic is working? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-troubleshoot-the-servestatic-storage-backend class=md-nav__link> <span class=md-ellipsis> How do I troubleshoot the ServeStatic storage backend? </span> </a> </li> <li class=md-nav__item> <a href=#can-i-use-servestatic-with-other-storage-backends class=md-nav__link> <span class=md-ellipsis> Can I use ServeStatic with other storage backends? </span> </a> </li> <li class=md-nav__item> <a href=#why-does-servestatic-make-my-tests-run-slow class=md-nav__link> <span class=md-ellipsis> Why does ServeStatic make my tests run slow? </span> </a> </li> <li class=md-nav__item> <a href=#why-do-i-get-valueerror-missing-staticfiles-manifest-entry-for class=md-nav__link> <span class=md-ellipsis> Why do I get "ValueError: Missing staticfiles manifest entry for ..."? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-use-servestatic-with-webpackbrowserifyetc class=md-nav__link> <span class=md-ellipsis> How do I use ServeStatic with Webpack/Browserify/etc? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-deploy-an-application-which-is-not-at-the-root-of-the-domain class=md-nav__link> <span class=md-ellipsis> How do I deploy an application which is not at the root of the domain? </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> About </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Community </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/Archmonger/ServeStatic/discussions class=md-nav__link> <span class=md-ellipsis> GitHub Discussions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#how-to-i-use-servestatic-with-django-compressor class=md-nav__link> <span class=md-ellipsis> How to I use ServeStatic with Django Compressor? </span> </a> </li> <li class=md-nav__item> <a href=#can-i-use-servestatic-for-media-files class=md-nav__link> <span class=md-ellipsis> Can I use ServeStatic for media files? </span> </a> </li> <li class=md-nav__item> <a href=#how-check-if-servestatic-is-working class=md-nav__link> <span class=md-ellipsis> How check if ServeStatic is working? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-troubleshoot-the-servestatic-storage-backend class=md-nav__link> <span class=md-ellipsis> How do I troubleshoot the ServeStatic storage backend? </span> </a> </li> <li class=md-nav__item> <a href=#can-i-use-servestatic-with-other-storage-backends class=md-nav__link> <span class=md-ellipsis> Can I use ServeStatic with other storage backends? </span> </a> </li> <li class=md-nav__item> <a href=#why-does-servestatic-make-my-tests-run-slow class=md-nav__link> <span class=md-ellipsis> Why does ServeStatic make my tests run slow? </span> </a> </li> <li class=md-nav__item> <a href=#why-do-i-get-valueerror-missing-staticfiles-manifest-entry-for class=md-nav__link> <span class=md-ellipsis> Why do I get "ValueError: Missing staticfiles manifest entry for ..."? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-use-servestatic-with-webpackbrowserifyetc class=md-nav__link> <span class=md-ellipsis> How do I use ServeStatic with Webpack/Browserify/etc? </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-deploy-an-application-which-is-not-at-the-root-of-the-domain class=md-nav__link> <span class=md-ellipsis> How do I deploy an application which is not at the root of the domain? </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>FAQ</h1> <h2 id=how-to-i-use-servestatic-with-django-compressor>How to I use <code>ServeStatic</code> with Django Compressor?<a class=headerlink href=#how-to-i-use-servestatic-with-django-compressor title="Permanent link">&para;</a></h2> <p>For performance and security reasons <code>ServeStatic</code> does not check for new files after startup (unless using Django <span class=title-ref>DEBUG</span> mode). As such, all static files must be generated in advance. If you're using Django Compressor, this can be performed using its <a href=https://django-compressor.readthedocs.io/en/stable/usage.html#offline-compression>offline compression</a> feature.</p> <hr> <h2 id=can-i-use-servestatic-for-media-files>Can I use <code>ServeStatic</code> for media files?<a class=headerlink href=#can-i-use-servestatic-for-media-files title="Permanent link">&para;</a></h2> <p><code>ServeStatic</code> is not suitable for serving user-uploaded "media" files. For one thing, as described above, it only checks for static files at startup and so files added after the app starts won't be seen. More importantly though, serving user-uploaded files from the same domain as your main application is a security risk (this <a href=https://security.googleblog.com/2012/08/content-hosting-for-modern-web.html>blog post</a> from Google security describes the problem well). And in addition to that, using local disk to store and serve your user media makes it harder to scale your application across multiple machines.</p> <p>For all these reasons, it's much better to store files on a separate dedicated storage service and serve them to users from there. The <a href=https://django-storages.readthedocs.io/ >django-storages</a> library provides many options e.g. Amazon S3, Azure Storage, and Rackspace CloudFiles.</p> <hr> <h2 id=how-check-if-servestatic-is-working>How check if <code>ServeStatic</code> is working?<a class=headerlink href=#how-check-if-servestatic-is-working title="Permanent link">&para;</a></h2> <p>You can confirm that <code>ServeStatic</code> is installed and configured correctly by running you application locally with <code>DEBUG</code> disabled and checking that your static files still load.</p> <p>First you need to run <code>collectstatic</code> to get your files in the right place:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>python<span class=w> </span>manage.py<span class=w> </span>collectstatic
</code></pre></div></td></tr></table></div> <p>Then make sure <code>DEBUG</code> is set to <code>False</code> in your <code>settings.py</code> and start the server:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>python<span class=w> </span>manage.py<span class=w> </span>runserver
</code></pre></div></td></tr></table></div> <p>You should find that your static files are served, just as they would be in production.</p> <hr> <h2 id=how-do-i-troubleshoot-the-servestatic-storage-backend>How do I troubleshoot the <code>ServeStatic</code> storage backend?<a class=headerlink href=#how-do-i-troubleshoot-the-servestatic-storage-backend title="Permanent link">&para;</a></h2> <p>If you're having problems with the <code>ServeStatic</code> storage backend, the chances are they're due to the underlying Django storage engine. This is because <code>ServeStatic</code> only adds a thin wrapper around Django's storage to add compression support, and because the compression code is very simple it generally doesn't cause problems.</p> <p>The most common issue is that there are CSS files which reference other files (usually images or fonts) which don't exist at that specified path. When Django attempts to rewrite these references it looks for the corresponding file and throws an error if it can't find it.</p> <p>To test whether the problems are due to <code>ServeStatic</code> or not, try swapping the <code>ServeStatic</code> storage backend for the Django one:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>STORAGES</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s2>&quot;staticfiles&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=s2>&quot;BACKEND&quot;</span><span class=p>:</span> <span class=s2>&quot;django.contrib.staticfiles.storage.ManifestStaticFilesStorage&quot;</span><span class=p>,</span>
    <span class=p>},</span>
<span class=p>}</span>
</code></pre></div></td></tr></table></div> <p>If the problems persist then your issue is with Django itself (try the <a href=https://docs.djangoproject.com/en/stable/ref/contrib/staticfiles/ >docs</a> or the <a href=https://groups.google.com/d/forum/django-users>mailing list</a>). If the problem only occurs with ServeStatic then raise a ticket on the <a href=https://github.com/Archmonger/ServeStatic/issues>issue tracker</a>.</p> <hr> <h2 id=can-i-use-servestatic-with-other-storage-backends>Can I use <code>ServeStatic</code> with other storage backends?<a class=headerlink href=#can-i-use-servestatic-with-other-storage-backends title="Permanent link">&para;</a></h2> <p><code>ServeStatic</code> will only work with storage backends that stores their files on the local filesystem in <code>STATIC_ROOT</code>. It will not work with backends that store files remotely, for instance on Amazon S3.</p> <h2 id=why-does-servestatic-make-my-tests-run-slow>Why does <code>ServeStatic</code> make my tests run slow?<a class=headerlink href=#why-does-servestatic-make-my-tests-run-slow title="Permanent link">&para;</a></h2> <p><code>ServeStatic</code> is designed to do as much work as possible upfront when the application starts so that it can serve files as efficiently as possible while the application is running. This makes sense for long-running production processes, but you might find that the added startup time is a problem during test runs when application instances are frequently being created and destroyed.</p> <p>The simplest way to fix this is to make sure that during testing the <code>SERVESTATIC_AUTOREFRESH</code> setting is set to <code>True</code>. (By default it is <code>True</code> when <code>DEBUG</code> is enabled and <code>False</code> otherwise.) This stops <code>ServeStatic</code> from scanning your static files on start up but other than that its behaviour should be exactly the same.</p> <p>It is also worth making sure you don't have unnecessary files in your <code>STATIC_ROOT</code> directory. In particular, be careful not to include a <code>node_modules</code> directory which can contain a very large number of files and significantly slow down your application startup. If you need to include specific files from <code>node_modules</code> then you can create symlinks from within your static directory to just the files you need.</p> <h2 id=why-do-i-get-valueerror-missing-staticfiles-manifest-entry-for>Why do I get "ValueError: Missing staticfiles manifest entry for ..."?<a class=headerlink href=#why-do-i-get-valueerror-missing-staticfiles-manifest-entry-for title="Permanent link">&para;</a></h2> <p>If you are seeing this error that means you are referencing a static file in your templates using something like <code>{% static "foo" %}</code> which doesn't exist, or at least isn't where Django expects it to be. If you don't understand why Django can't find the file you can use</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>python<span class=w> </span>manage.py<span class=w> </span>findstatic<span class=w> </span>--verbosity<span class=w> </span><span class=m>2</span><span class=w> </span>foo
</code></pre></div></td></tr></table></div> <p>which will show you all the paths which Django searches for the file "foo".</p> <p>If, for some reason, you want Django to silently ignore such errors you can set <code>SERVESTATIC_MANIFEST_STRICT</code> to <code>False</code>.</p> <h2 id=how-do-i-use-servestatic-with-webpackbrowserifyetc>How do I use <code>ServeStatic</code> with Webpack/Browserify/etc?<a class=headerlink href=#how-do-i-use-servestatic-with-webpackbrowserifyetc title="Permanent link">&para;</a></h2> <p>A simple technique for integrating any frontend build system with Django is to use a directory layout like this:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span>
<span class=normal>9</span></pre></div></td><td class=code><div><pre><span></span><code>./static_src
        ↓
  $ ./node_modules/.bin/webpack
        ↓
./static_build
        ↓
  $ ./manage.py collectstatic
        ↓
./static_root
</code></pre></div></td></tr></table></div> <p>Here <code>static_src</code> contains all the source files (JS, CSS, etc) for your project. Your build tool (which can be Webpack, Browserify or whatever you choose) then processes these files and writes the output into <code>static_build</code>.</p> <p>The path to the <code>static_build</code> directory is added to <code>settings.py</code>:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>STATICFILES_DIRS</span> <span class=o>=</span> <span class=p>[</span><span class=n>BASE_DIR</span> <span class=o>/</span> <span class=s2>&quot;static_build&quot;</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> <p>This means that Django can find the processed files, but doesn't need to know anything about the tool which produced them.</p> <p>The final <code>manage.py collectstatic</code> step writes "hash-versioned" and compressed copies of the static files into <code>static_root</code> ready for production.</p> <p>Note, both the <code>static_build</code> and <code>static_root</code> directories should be excluded from version control (e.g. through <code>.gitignore</code>) and only the <code>static_src</code> directory should be checked in.</p> <h2 id=how-do-i-deploy-an-application-which-is-not-at-the-root-of-the-domain>How do I deploy an application which is not at the root of the domain?<a class=headerlink href=#how-do-i-deploy-an-application-which-is-not-at-the-root-of-the-domain title="Permanent link">&para;</a></h2> <p>Sometimes Django apps are deployed at a particular prefix (or "subdirectory") on a domain e.g. <code>https://example.com/my-app/</code> rather than just <code>https://example.com</code>.</p> <p>In this case you would normally use Django's <a href=https://docs.djangoproject.com/en/stable/ref/settings/#force-script-name>FORCE_SCRIPT_NAME</a> setting to tell the application where it is located. You would also need to ensure that <code>STATIC_URL</code> uses the correct prefix as well. For example:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code><span class=n>FORCE_SCRIPT_NAME</span> <span class=o>=</span> <span class=s2>&quot;/my-app&quot;</span>
<span class=n>STATIC_URL</span> <span class=o>=</span> <span class=n>FORCE_SCRIPT_NAME</span> <span class=o>+</span> <span class=s2>&quot;/static/&quot;</span>
</code></pre></div></td></tr></table></div> <p>If you have set these two values then <code>ServeStatic</code> will automatically configure itself correctly. If you are doing something more complex you may need to set <code>SERVESTATIC_STATIC_PREFIX</code> explicitly yourself.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="September 3, 2024 06:17:59">September 3, 2024</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Contributors> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg> </span> <nav> <a href=mailto:archiethemonger@gmail.com>Mark Bakhit</a> </nav> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy;<div id=year></div> <script>document.getElementById("year").innerHTML = new Date().getFullYear();</script> Mark Bakhit (Archmonger) </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy", "search.highlight"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>